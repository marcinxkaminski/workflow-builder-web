(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),c=n(8),l=n.n(c),i=n(3),s=function(e){var t=function(e){var t=e.onClick,n=e.disabled,r={};return t&&(r.onClick=t),n&&(r.disabled=n),r}(e),n=e.shadow,r=e.customClasses,o=e.loading,c=e.icon;return a.a.createElement("button",Object.assign({type:"button"},t,{className:"".concat("btn btn-outline-light btn-circle").concat(n?" shadow":"").concat(r?" ".concat(r):"")}),o?a.a.createElement("div",{className:"loader spinner-border",role:"status"},a.a.createElement("span",{className:"sr-only"},"Loading...")):function(e){return a.a.createElement("i",{className:"material-icons"},e||"help")}(c))};s.defaultProps={shadow:"help",customClasses:null,loading:null,icon:"help"};var u=Object(r.memo)(s),f=n(1),d=n.n(f),m=n(2),p="SUCCESS",v="ERROR",w="GET_AVAILABLE_WORKFLOW_ELEMENTS",b="GET_AVAILABLE_WORKFLOW_ELEMENTS_".concat(p),h="GET_AVAILABLE_WORKFLOW_ELEMENTS_".concat(v),O="GET_RESULTS_FOR_DATA",E="GET_RESULTS_FOR_DATA_".concat(p),y="GET_RESULTS_FOR_DATA_".concat(v),g="ADD_WORKFLOW_ELEMENT",j="DELETE_WORKFLOW_ELEMENT",k="SUBMIT_WORKFLOW",N="SUBMIT_WORKFLOW_".concat(p),x="SUBMIT_WORKFLOW_".concat(v),S="https://workflow-builder-api.herokuapp.com/api/workflow-builder",P="/elements",W="/files",_=n(5);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e){return T.apply(this,arguments)}function T(){return(T=Object(m.a)(d.a.mark(function e(t){var n,r,a,o,c,l=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},r=l.length>2&&void 0!==l[2]?l[2]:{},a=l.length>3&&void 0!==l[3]?l[3]:"GET",o=l.length>4&&void 0!==l[4]?l[4]:{},e.next=6,fetch(t,D({mode:"cors"},n,{headers:D({"Content-Type":"application/json"},r),method:a,body:"GET"===a||"HEAD"===a?null:JSON.stringify(o)}));case 6:return c=e.sent,e.abrupt("return",c.ok?c.json():c.text());case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"".concat(e).concat(t).concat(n?"?".concat(new URLSearchParams(n).toString()):"/")}var I={},R={};function B(e){return F.apply(this,arguments)}function F(){return(F=Object(m.a)(d.a.mark(function e(t){var n,r,a,o=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:null,r=o.length>2&&void 0!==o[2]?o[2]:I,a=o.length>3&&void 0!==o[3]?o[3]:R,e.abrupt("return",A(L(S,t,n),r,a,"GET"));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e){return V.apply(this,arguments)}function V(){return(V=Object(m.a)(d.a.mark(function e(t){var n,r,a,o,c=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:null,a=c.length>3&&void 0!==c[3]?c[3]:I,o=c.length>4&&void 0!==c[4]?c[4]:R,e.abrupt("return",A(L(S,t,r),a,o,"PUT",n));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(e){return U.apply(this,arguments)}function U(){return(U=Object(m.a)(d.a.mark(function e(t){var n,r,a,o,c=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},r=c.length>2&&void 0!==c[2]?c[2]:null,a=c.length>3&&void 0!==c[3]?c[3]:I,o=c.length>4&&void 0!==c[4]?c[4]:R,e.abrupt("return",A(L(S,t,r),a,o,"POST",n));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var q="PENDING",K="SUCCESS",J="ERROR";function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(){var r=Object(m.a)(d.a.mark(function r(a){var o;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:e,payload:{status:q}}),r.next=4,n?t(n):t();case 4:return o=r.sent,a({type:"".concat(e,"_").concat(p),payload:{status:K,data:o}}),r.abrupt("return",o);case 9:return r.prev=9,r.t0=r.catch(0),console.error(r.t0),a({type:"".concat(e,"_").concat(v),payload:{status:J,error:r.t0}}),r.abrupt("return",null);case 14:case"end":return r.stop()}},r,null,[[0,9]])}));return function(e){return r.apply(this,arguments)}}()}function $(e){console.warn("Cannot open ".concat(e," in the new tab."))}function z(e){if(!e)return $(e);var t=window.open(e,"_blank");return t&&t.focus?t.focus():$(e)}function Q(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return{id:e.id}})}function X(e,t){try{var n=JSON.parse(e),r=Object.values(n).filter(function(e){return!e}).length;return!Object.keys(t.data).filter(function(e){return!Object.keys(n).includes(e)}).length&&!r}catch(a){return console.warn(a),!1}}function Y(e){return{type:j,payload:e.index}}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(m.a)(d.a.mark(function e(t){var n,r,a,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,r=t.item,a=null,!(o=X(n,r.config))){e.next=7;break}return e.next=6,M(P,{id:r.id,data:JSON.parse(n)});case 6:a=e.sent;case 7:return e.abrupt("return",{index:r.index,result:a,isValid:o});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(e,t){return H(O,Z,{data:t,item:e})}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(m.a)(d.a.mark(function e(t){var n,r,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.elements,e.next=3,G(P,{elements:n});case 3:return r=e.sent,a=r.id,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(){return function(){var e=Object(m.a)(d.a.mark(function e(t,n){var r,a,o,c,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().workflowState,a=r.selectedWorkflowElements,o=r.workflowId,c=o){e.next=7;break}return l=Q(a),e.next=6,t(H(k,ne,{elements:l}));case 6:c=e.sent;case 7:z(L(S,W,{id:c}));case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}var oe=function(e){var t,n,r,o,c=e.item,l=e.customClasses,i=e.hideButtons,s=e.onAdd,f=e.onDelete,d=e.onChange;return c&&Object.keys(c).length?a.a.createElement("div",{className:"card element-card shadow text-center m-2 ".concat(l)},a.a.createElement("div",{className:"card-body"},"undefined"!==typeof c.index?(o=c.index,a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement("div",{className:"col text-center"},a.a.createElement("h6",null,"#".concat(o+1))))):null,c.name?(r=c.name,a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement("div",{className:"col text-center"},a.a.createElement("h4",{className:"card-title"},r)))):null,c.materialIcon?(n=c.materialIcon,a.a.createElement("div",{className:"row justify-content-center my-2"},a.a.createElement("div",{className:"col text-center"},a.a.createElement("div",{className:"card-subtitle"},a.a.createElement("i",{className:"material-icons"},n))))):null,c.description?(t=c.description,a.a.createElement("div",{className:"row justify-content-center mb-3"},a.a.createElement("div",{className:"col text-center"},a.a.createElement("div",{className:"card-text"},a.a.createElement("small",{className:"text-muted"},t))))):null,!s||i||f?null:function(e){return a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement("div",{className:"col text-center"},a.a.createElement(u,{icon:"add",customClasses:"btn-outline-dark mx-auto",shadow:!1,onClick:e})))}(s),!f||i||s?null:function(e){return a.a.createElement("div",{className:"row justify-content-center"},a.a.createElement("div",{className:"col text-center"},a.a.createElement(u,{icon:"clear",customClasses:"btn-outline-dark mx-auto",shadow:!1,onClick:e})))}(f)),Object.keys(c.config||{}).length&&d?function(e,t){return a.a.createElement("div",{className:"card-footer overflow-auto p-0 small font-weight-light"},a.a.createElement("textarea",{className:"smallest form-control".concat(!1===e.isValid?" is-invalid":""),defaultValue:JSON.stringify(e.data),onBlur:function(e){var n=e.target;return t(n.value)}}),a.a.createElement("small",{className:"text-muted small"},"Result:",a.a.createElement("br",null)," ",e.result?JSON.stringify(e.result):null))}(c.config,d):null):(console.warn("Cannot render empty item ",c),null)};oe.defaultProps={item:{},onAdd:null,onDelete:null,onChange:null,hideButtons:!1,customClasses:""};var ce=Object(r.memo)(oe),le=Object(r.memo)(function(e){var t=e.items,n=e.onDelete,r=e.onConfigChange;return a.a.createElement("div",{className:"row w-100 mx-auto justify-content-center align-items-center my-5"},t.map(function(e,t){var o=function(e,t){return{id:e.id,name:e.name,config:e.config,index:t}}(e,t);return a.a.createElement(ce,{key:e.id+Math.random(),item:o,onDelete:function(){return n(o)},onChange:function(e){return r(o,e)}})}))}),ie=Object(r.memo)(Object(o.b)(function(e){return e.workflowState},function(e){return Object(i.b)({deleteWorkflowElement:Y,submitWorkflow:ae,onlineProcessing:te},e)})(function(e){var t=e.selectedWorkflowElements,n=e.deleteWorkflowElement,r=e.submitWorkflow,o=e.onlineProcessing,c=e.request;return a.a.createElement("div",{className:"container-fluid my-2"},a.a.createElement(le,{items:t,onDelete:n,onConfigChange:o}),a.a.createElement("div",{className:"row justify-content-center my-4"},a.a.createElement("div",{className:"col text-center mb-5"},a.a.createElement(u,{icon:"cloud_download",loading:c.status===q,customClasses:"mx-auto",onClick:r,shadow:!0}))))})),se=n(14);function ue(e){this.name="WorkflowElementError",this.message=e}var fe=function e(t){var n=t.id,r=t.name,a=t.description,o=void 0===a?null:a,c=t.materialIcon,l=void 0===c?null:c,i=t.config,s=void 0===i?null:i;if(Object(se.a)(this,e),!n)throw new ue("Invalid workflow element's ID");if(!r)throw new ue("Invalid workflow element's name");this.id=n,this.name=r,this.description=o,this.materialIcon=l,this.config=s},de=function(){var e=Object(m.a)(d.a.mark(function e(){var t,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(P);case 2:return t=e.sent,n=t.elements,e.abrupt("return",n.map(function(e){return new fe(e)}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ve(){return H(w,de)}function we(e){return{type:g,payload:pe({},e)}}var be=n(16),he=function(e){return{name:e.name,materialIcon:e.materialIcon,description:e.description}},Oe=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e<t-1?e+1:n?(e+1)%t:e},Ee=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e>0?e-1:n?t-1:e},ye=function(e){var t=Object(r.useState)(0),n=Object(be.a)(t,2),o=n[0],c=n[1],l=e.items,i=void 0===l?[]:l,s=e.infinite,f=void 0===s||s,p=e.onAdd,v=void 0===p?null:p,w=e.itemsVisibleCount,b=void 0===w?1:w;if(!i.length||!v)return null;var h=function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c(Oe(o,i.length,f));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c(Ee(o,i.length,f));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"container-fluid w-100"},a.a.createElement("div",{className:"row justify-content-between align-items-center"},a.a.createElement(u,{icon:"keyboard_arrow_left",onClick:O,shadow:!0}),function(){var e=b,t=i.length;if(1===e||e>t){var n=i[o];return a.a.createElement(ce,{item:he(n),onAdd:function(){return v(n)},customClasses:"mx-auto"})}var r=[Ee(o,t,f)];return new Array(e-1).fill(e).forEach(function(){r.push(Oe(r[r.length-1],t,f))}),r.map(function(e,t){var n=t===Math.floor(r.length/2),o=i[e];return a.a.createElement(ce,{key:o.id+e+Math.random(),item:he(o),onAdd:function(){return v(o)},customClasses:n?"":"element-card-small",hideButtons:!n})})}(),a.a.createElement(u,{icon:"keyboard_arrow_right",onClick:h,shadow:!0})))};ye.defaultProps={items:[],infinite:!0,itemsVisibleCount:1,onAdd:null};var ge=Object(r.memo)(ye),je=function(){return window.innerWidth<=768?1:3},ke=Object(r.memo)(Object(o.b)(function(e){return e.selectorState},function(e){return Object(i.b)({getAvailableWorkflowElements:ve,addWorkflowElement:we},e)})(function(e){var t=e.availableWorkflowElements,n=e.addWorkflowElement,o=e.getAvailableWorkflowElements;return Object(r.useEffect)(function(){o()},[]),a.a.createElement("div",{id:"selector",className:"container-fluid w-100 shadow p-4 mb-2"},a.a.createElement("div",{className:"row"},a.a.createElement(ge,{itemsVisibleCount:je(),items:t,onAdd:n,infinite:!0})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=n(15);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Pe={request:{status:null,error:null},selectedWorkflowElements:[],workflowId:null};function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach(function(t){Object(_.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ce={request:{status:null,error:null},availableWorkflowElements:[]};var De={workflowState:Pe,selectorState:Ce},Ae=Object(i.d)(Object(i.c)({workflowState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case g:return Se({},e,{selectedWorkflowElements:e.selectedWorkflowElements.concat(r),workflowId:null});case j:return Se({},e,{selectedWorkflowElements:e.selectedWorkflowElements.filter(function(e,t){return t!==r}),workflowId:null});case E:return Se({},e,{request:{status:r.status,error:r.error},selectedWorkflowElements:e.selectedWorkflowElements.map(function(e,t){return t===r.data.index&&e.config&&(e.config.result=r.data.result,e.config.isValid=r.data.isValid),e})});case O:case y:case k:case x:return Se({},e,{request:{status:r.status,error:r.error}});case N:return Se({},e,{request:{status:r.status,error:r.error},workflowId:r.data.id});default:return e}},selectorState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case w:return _e({},e,{request:{status:r.status,error:null}});case b:return _e({},e,{request:{status:r.status,error:null},availableWorkflowElements:r.data});case h:return _e({},e,{request:{status:r.status,error:r.error}});default:return e}}}),De,Object(i.a)(Ne.a));n(28),n(29);l.a.render(a.a.createElement(o.a,{store:Ae},a.a.createElement(function(){return a.a.createElement("div",null,a.a.createElement(ke,null),a.a.createElement(ie,null))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.300d5e94.chunk.js.map